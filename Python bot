import sys
import socket
import time

# Filling form ,hence define global var

host     =" " #for host (optional)
server   =" " #for server/host to connect
botnick  =" " #bot identification name
channel  =" " #channel to join
ident    =" " #(optional)
realname =" " #(optional)
target   =" " #(optional)for user/bot
port     = #6667
#Connecting....
irc = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

#Filling form...

irc.connect((server,port))
irc.setblocking(False)
time.sleep(1)
irc.send("USER "+botnick" "+botnick+" "+botnick+" :My Bot\r\n")
time.sleep(1)
irc.send("NICK "+botnick+"\n")
time.sleep(1)
irc.send("JOIN "+channel+"\n")
time.sleep(1)


# more robust approach but nonetheless gets thing done for our challenge
#taken from youtube video (for simple irc bot) try/except for error handling 



while 1: 
    time.sleep(0.1)
    try:
        text=irc.recv(8000)
        print(text)
    except Exception:
        pass
    if text.find("PING") !=-1:
        irc.send("PONG "+text.split()[1]+"\r\n")
    if text.find(":hi")!=-1:
        irc.send("PRIVMSG "+channel+":Hello\r\n")
    #if text.find("PRIVMSG ") !=-1:
        #irc.send("PRIVMSG "+target+":Same reply\r\n") to generate same reply for all messages
                                                        # for  person/bot(target)
     text=""
input()     
